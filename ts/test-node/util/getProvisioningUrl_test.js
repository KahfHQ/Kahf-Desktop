var import_chai = require("chai");
var import_iterables = require("../../util/iterables");
var import_getProvisioningUrl = require("../../util/getProvisioningUrl");
describe("getProvisioningUrl", () => {
  it("returns a URL with a UUID and public key", () => {
    const uuid = "a08bf1fd-1799-427f-a551-70af747e3956";
    const publicKey = new Uint8Array([9, 8, 7, 6, 5, 4, 3]);
    const result = (0, import_getProvisioningUrl.getProvisioningUrl)(uuid, publicKey);
    const resultUrl = new URL(result);
    import_chai.assert.strictEqual(resultUrl.protocol, "kahf:");
    import_chai.assert.strictEqual(resultUrl.host, "linkdevice");
    import_chai.assert.strictEqual((0, import_iterables.size)(resultUrl.searchParams.entries()), 2);
    import_chai.assert.strictEqual(resultUrl.searchParams.get("uuid"), uuid);
    import_chai.assert.strictEqual(resultUrl.searchParams.get("pub_key"), "CQgHBgUEAw==");
  });
});
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiZ2V0UHJvdmlzaW9uaW5nVXJsX3Rlc3QudHMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbIi8vIENvcHlyaWdodCAyMDIxIFNpZ25hbCBNZXNzZW5nZXIsIExMQ1xuLy8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFHUEwtMy4wLW9ubHlcblxuaW1wb3J0IHsgYXNzZXJ0IH0gZnJvbSAnY2hhaSc7XG5pbXBvcnQgeyBzaXplIH0gZnJvbSAnLi4vLi4vdXRpbC9pdGVyYWJsZXMnO1xuXG5pbXBvcnQgeyBnZXRQcm92aXNpb25pbmdVcmwgfSBmcm9tICcuLi8uLi91dGlsL2dldFByb3Zpc2lvbmluZ1VybCc7XG5cbi8vIEl0J2QgYmUgbmljZSB0byBydW4gdGhlc2UgdGVzdHMgaW4gdGhlIHJlbmRlcmVyLCB0b28sIGJ1dCBbQ2hyb21pdW0ncyBgVVJMYCBkb2Vzbid0XG4vLyAgIGhhbmRsZSBga2FoZjpgIGxpbmtzIGNvcnJlY3RseV1bMF0uXG4vL1xuLy8gWzBdOiBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD04NjkyOTFcbmRlc2NyaWJlKCdnZXRQcm92aXNpb25pbmdVcmwnLCAoKSA9PiB7XG4gIGl0KCdyZXR1cm5zIGEgVVJMIHdpdGggYSBVVUlEIGFuZCBwdWJsaWMga2V5JywgKCkgPT4ge1xuICAgIGNvbnN0IHV1aWQgPSAnYTA4YmYxZmQtMTc5OS00MjdmLWE1NTEtNzBhZjc0N2UzOTU2JztcbiAgICBjb25zdCBwdWJsaWNLZXkgPSBuZXcgVWludDhBcnJheShbOSwgOCwgNywgNiwgNSwgNCwgM10pO1xuXG4gICAgY29uc3QgcmVzdWx0ID0gZ2V0UHJvdmlzaW9uaW5nVXJsKHV1aWQsIHB1YmxpY0tleSk7XG4gICAgY29uc3QgcmVzdWx0VXJsID0gbmV3IFVSTChyZXN1bHQpO1xuXG4gICAgYXNzZXJ0LnN0cmljdEVxdWFsKHJlc3VsdFVybC5wcm90b2NvbCwgJ2thaGY6Jyk7XG4gICAgYXNzZXJ0LnN0cmljdEVxdWFsKHJlc3VsdFVybC5ob3N0LCAnbGlua2RldmljZScpO1xuICAgIGFzc2VydC5zdHJpY3RFcXVhbChzaXplKHJlc3VsdFVybC5zZWFyY2hQYXJhbXMuZW50cmllcygpKSwgMik7XG4gICAgYXNzZXJ0LnN0cmljdEVxdWFsKHJlc3VsdFVybC5zZWFyY2hQYXJhbXMuZ2V0KCd1dWlkJyksIHV1aWQpO1xuICAgIGFzc2VydC5zdHJpY3RFcXVhbChyZXN1bHRVcmwuc2VhcmNoUGFyYW1zLmdldCgncHViX2tleScpLCAnQ1FnSEJnVUVBdz09Jyk7XG4gIH0pO1xufSk7XG4iXSwKICAibWFwcGluZ3MiOiAiQUFHQSxrQkFBdUI7QUFDdkIsdUJBQXFCO0FBRXJCLGdDQUFtQztBQU1uQyxTQUFTLHNCQUFzQixNQUFNO0FBQ25DLEtBQUcsNENBQTRDLE1BQU07QUFDbkQsVUFBTSxPQUFPO0FBQ2IsVUFBTSxZQUFZLElBQUksV0FBVyxDQUFDLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUMsQ0FBQztBQUV0RCxVQUFNLFNBQVMsa0RBQW1CLE1BQU0sU0FBUztBQUNqRCxVQUFNLFlBQVksSUFBSSxJQUFJLE1BQU07QUFFaEMsdUJBQU8sWUFBWSxVQUFVLFVBQVUsT0FBTztBQUM5Qyx1QkFBTyxZQUFZLFVBQVUsTUFBTSxZQUFZO0FBQy9DLHVCQUFPLFlBQVksMkJBQUssVUFBVSxhQUFhLFFBQVEsQ0FBQyxHQUFHLENBQUM7QUFDNUQsdUJBQU8sWUFBWSxVQUFVLGFBQWEsSUFBSSxNQUFNLEdBQUcsSUFBSTtBQUMzRCx1QkFBTyxZQUFZLFVBQVUsYUFBYSxJQUFJLFNBQVMsR0FBRyxjQUFjO0FBQUEsRUFDMUUsQ0FBQztBQUNILENBQUM7IiwKICAibmFtZXMiOiBbXQp9Cg==
