var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
async function applyTheme() {
  const theme = await window.SignalContext.Settings.themeSetting.getValue();
  document.body.classList.remove("light-theme");
  document.body.classList.remove("dark-theme");
  document.body.classList.add(`${theme === "system" ? window.SignalContext.nativeThemeListener.getSystemTheme() : theme}-theme`);
}
async function applyThemeLoop() {
  while (true) {
    await window.SignalContext.Settings.waitForChange();
    await applyTheme();
  }
}
applyTheme();
applyThemeLoop();
window.SignalContext.nativeThemeListener.subscribe(() => {
  applyTheme();
});
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiYXBwbHlUaGVtZS50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiLy8gQ29weXJpZ2h0IDIwMjEgU2lnbmFsIE1lc3NlbmdlciwgTExDXG4vLyBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQUdQTC0zLjAtb25seVxuXG5hc3luYyBmdW5jdGlvbiBhcHBseVRoZW1lKCkge1xuICBjb25zdCB0aGVtZSA9IGF3YWl0IHdpbmRvdy5TaWduYWxDb250ZXh0LlNldHRpbmdzLnRoZW1lU2V0dGluZy5nZXRWYWx1ZSgpO1xuICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ2xpZ2h0LXRoZW1lJyk7XG4gIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnZGFyay10aGVtZScpO1xuICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoXG4gICAgYCR7XG4gICAgICB0aGVtZSA9PT0gJ3N5c3RlbSdcbiAgICAgICAgPyB3aW5kb3cuU2lnbmFsQ29udGV4dC5uYXRpdmVUaGVtZUxpc3RlbmVyLmdldFN5c3RlbVRoZW1lKClcbiAgICAgICAgOiB0aGVtZVxuICAgIH0tdGhlbWVgXG4gICk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGFwcGx5VGhlbWVMb29wKCkge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc3RhbnQtY29uZGl0aW9uXG4gIHdoaWxlICh0cnVlKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWF3YWl0LWluLWxvb3BcbiAgICBhd2FpdCB3aW5kb3cuU2lnbmFsQ29udGV4dC5TZXR0aW5ncy53YWl0Rm9yQ2hhbmdlKCk7XG5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tYXdhaXQtaW4tbG9vcFxuICAgIGF3YWl0IGFwcGx5VGhlbWUoKTtcbiAgfVxufVxuXG5hcHBseVRoZW1lKCk7XG5hcHBseVRoZW1lTG9vcCgpO1xuXG53aW5kb3cuU2lnbmFsQ29udGV4dC5uYXRpdmVUaGVtZUxpc3RlbmVyLnN1YnNjcmliZSgoKSA9PiB7XG4gIGFwcGx5VGhlbWUoKTtcbn0pO1xuIl0sCiAgIm1hcHBpbmdzIjogIjs7QUFHQSw0QkFBNEI7QUFDMUIsUUFBTSxRQUFRLE1BQU0sT0FBTyxjQUFjLFNBQVMsYUFBYSxTQUFTO0FBQ3hFLFdBQVMsS0FBSyxVQUFVLE9BQU8sYUFBYTtBQUM1QyxXQUFTLEtBQUssVUFBVSxPQUFPLFlBQVk7QUFDM0MsV0FBUyxLQUFLLFVBQVUsSUFDdEIsR0FDRSxVQUFVLFdBQ04sT0FBTyxjQUFjLG9CQUFvQixlQUFlLElBQ3hELGFBRVI7QUFDRjtBQVhlLEFBYWYsZ0NBQWdDO0FBRTlCLFNBQU8sTUFBTTtBQUVYLFVBQU0sT0FBTyxjQUFjLFNBQVMsY0FBYztBQUdsRCxVQUFNLFdBQVc7QUFBQSxFQUNuQjtBQUNGO0FBVGUsQUFXZixXQUFXO0FBQ1gsZUFBZTtBQUVmLE9BQU8sY0FBYyxvQkFBb0IsVUFBVSxNQUFNO0FBQ3ZELGFBQVc7QUFDYixDQUFDOyIsCiAgIm5hbWVzIjogW10KfQo=
